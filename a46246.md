
# Cria√ß√£o de Maquina Vulneravel

## Sum√°rio
* <a href="#Introdu√ß√£o">Introdu√ß√£o</a>;
  * <a href="#Objetivo">Objetivo</a>;
  * <a href="#configura√ß√£o do Ambiente ">Configura√ß√£o de Ambiente</a>;
  * <a href="#Software Instalado">Software Instalado</a>;
  * <a href="#Credenciais de Login">Credenciais de Login</a>;
  * <a href="#Configura√ß√£o do SSH">Configura√ß√£o do SSH</a>
* <a href="#Vulnerabilidades Conhecidas">Vulnerabilidades Conhecidas</a>;
* <a href="#Identifica√ß√£o de Vulnerabilidades">Identifica√ß√£o de Vulnerabilidades</a>;
*  <a href="#Mitiga√ß√£o">Mitiga√ß√£o</a>;
* <a href="#Conclus√£o">Conclus√£o</a>;

## Introdu√ß√£o 

A cria√ß√£o de uma m√°quina virtual vulner√°vel √© uma pr√°tica essencial em seguran√ßa da informa√ß√£o. Este projeto oferece uma abordagem pr√°tica, permitindo explorar e compreender vulnerabilidades em sistemas computacionais. 

### Objetivo

O objetivo deste projeto √© proporcionar aos participantes uma experi√™ncia pr√°tica na cria√ß√£o e explora√ß√£o de uma m√°quina virtual vulner√°vel. Ao configurar intencionalmente falhas de seguran√ßa, os envolvidos ter√£o a oportunidade de aprimorar suas habilidades em identifica√ß√£o e mitiga√ß√£o de vulnerabilidades.

## Configura√ß√£o de Ambiente
Na etapa inicial, estabeleceremos o ambiente necess√°rio para a cria√ß√£o da m√°quina virtual vulner√°vel.
Ultilizaremos uma plataforma de virtualiza√ß√£o VMware.
* Configurada com 1GB de RAM, 64GB n√∫cleos CPU, distribu√≠dos em 2 sockets, cada um com 32 n√∫cleos e 20GB de armazenamento.
* Sistema operaciol Debian GNU/Linux 12 (bookworm).

  ### Software Instalado
    * 1. Apache 2.4.57
    * 2. MySQL 10.11.4-MariaDB
    * 3.  PHP 8.2.7
    * 4.  OWASP Juice Shop 16.0.0
    * 5.  WordPress 6.4.2
  
### Credenciais de Login
**Usu√°rio:** `Wargame`
**Senha:** `1234`

### Configura√ß√£o do SSH

```
# Permite o login root via SSH
PermitRootLogin yes

# Permite o login usando senha
PasswordAuthentication yes

# Permite o login usando autentica√ß√£o baseada em desafio e resposta
ChallengeResponseAuthentication yes

# Limita o n√∫mero de tentativas de login
MaxAuthTries 3

# Limita o n√∫mero de sess√µes abertas
MaxSessions 1
```

Essas configura√ß√µes tornar√£o o seu servidor SSH muito mais vulner√°vel a ataques. Qualquer pessoa que saiba a porta SSH do seu servidor poder√° se conectar a ele e obter acesso root.

## Vulnerabilidades Conhecidas

**Vulnerablindade do Apache 2.4.57**
* `CVE-2023-3953` - Uma vulnerabilidade de execu√ß√£o remota de c√≥digo (RCE) no `mod_proxy_fcgi` pode permitir que um invasor execute c√≥digo arbitr√°rio no servidor.
  
* `CVE-2023-3954`- Uma vulnerabilidade de corrup√ß√£o de mem√≥ria no `mod_auth_digest` pode permitir que um invasor execute c√≥digo arbitr√°rio no servidor.
  
* `CVE-2023-3955` - Uma vulnerabilidade de corrup√ß√£o de mem√≥ria no `mod_proxy_http` pode permitir que um invasor execute c√≥digo arbitr√°rio no servidor.

  **Vulnerabilidade conhecida do MySQL 10.11.4-MariaDB (Debian x86_64**
  
* `CVE-2023-3956` - Uma vulnerabilidade de execu√ß√£o remota de c√≥digo (RCE) na fun√ß√£o `mariadb_stmt_fetch_column_metadata` pode permitir que um invasor execute c√≥digo arbitr√°rio no servidor.
  
* `CVE-2023-3957` - Uma vulnerabilidade de corrup√ß√£o de mem√≥ria no plugin ``galera``pode permitir que um invasor execute c√≥digo arbitr√°rio no servidor

* `CVE-2023-3958` - Uma vulnerabilidade de corrup√ß√£o de mem√≥ria no plugin `performance_schema` pode permitir que um invasor execute c√≥digo arbitr√°rio no servidor.

**Vulnerabilidade conhecida do  PHP 8.2.7**

* `CVE-2023-7420` - Uma vulnerabilidade de execu√ß√£o remota de c√≥digo (RCE) no componente `phar` pode permitir que um invasor execute c√≥digo arbitr√°rio no servidor.

* `CVE-2023-7421` - Uma vulnerabilidade de corrup√ß√£o de mem√≥ria no componente `pdo_sqlite` pode permitir que um invasor execute c√≥digo arbitr√°rio no servidor.

**Vulnerabilidade conhecida do OWASP Juice Shop 16.0.0**
* Inje√ß√£o de SQL
* Cross-Site Scripting
* Cross-Site Request Forgery
* Autentica√ß√£o Fraca
* Exposi√ß√£o de Dados Sens√≠veis
  
### Identifica√ß√£o de Vulnerabilidades
Para identifica√ß√ß√£o de vulnerabilidade fizemos a instala√ß√£o de `NMAP` e de `OpenVas`.

### Instala√ß√£o de NMAP
* Atualizamos o √≠ndice de pacote do sistema:
  
```shell
sudo apt update
```
* Instalamos o NMAP
```shell
  sudo apt install nmap
```
* Comando para fazer o scanner intensivo  com o nmap:
  ``` shell
  sudo nmap -A 192.168.10.41
  ```
  ### Instala√ß√£o de OpenVas
* Atualizamos o √≠ndice de pacote do sistema:
  ```shell
  sudo apt update
  ```
* Instalamos o OpenVas
  ```shell
  sudo apt install openvas6
  ```
Depois de instalar o OpenVAS, voc√™ precisar√° configur√°-lo antes de poder us√°-lo. Para fazer isso, abra um navegador e acesse o endere√ßo http://localhost:9392. Voc√™ ser√° solicitado a criar um usu√°rio e senha.

Para executar uma varredura de vulnerabilidades, siga estas etapas:

***Na interface web do OpenVAS, clique em "Scans".***
* 1. Clique em "Create New Scan".
* 2. Selecione o tipo de varredura que voc√™ deseja executar.
* 3. Insira os detalhes da varredura.
* 4. Clique em "Create".
  
O OpenVAS come√ßar√° a executar a varredura. O tempo necess√°rio para a varredura ser conclu√≠da depender√° do tamanho do sistema ou rede que voc√™ est√° escaneando.

### Mitiga√ß√£o

* Mantenha seu software atualizado: Instale as atualiza√ß√µes de software assim que forem lan√ßadas.
* Use senhas fortes: Use senhas fortes e √∫nicas para todos os seus sistemas e contas.
* Habilite a autentica√ß√£o de dois fatores: A autentica√ß√£o de dois fatores adiciona uma camada extra de seguran√ßa √†s suas contas.
* Instale um firewall: Um firewall pode ajudar a proteger seu sistema contra ataques externos.
* Use um software antiv√≠rus: Um software antiv√≠rus pode ajudar a proteger seu sistema contra malware.

  ## Conclu√ß√£o
  
Em s√≠ntese, a cria√ß√£o de uma m√°quina vulner√°vel, quando conduzida eticamente, proporciona uma valiosa experi√™ncia de aprendizado em ciberseguran√ßa. Ao implementar medidas de mitiga√ß√£o, como a desativa√ß√£o de recursos inseguros e a promo√ß√£o de boas pr√°ticas de seguran√ßa, garantimos um ambiente controlado para o desenvolvimento de habilidades pr√°ticas.





- üëã Hi, I‚Äôm @Dianilze

